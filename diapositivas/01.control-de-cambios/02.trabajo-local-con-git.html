<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Identificaci√≥n de los elementos de Internet</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/black.css">
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Slide 0 -->
            <!-- Slide de presentaci√≥n del curso -->
            <section>
                <h2>Control de Cambios</h2>
                <h3>Trabajo Local con Git</h3>
                <hr>
                <p>C√©sar Pati√±o</p>
                <small>2025</small>
            </section>

            <!-- Slide 1 -->
 
            <section data-markdown>
              <textarea data-template>

                <!-- Tema Trabajando con Git de forma local, p√°gs. 31 - 60-->
                # Git de forma local

                - Git, al ser un software de control de cambio, permite trabajar offline y en local (en tu ordenador o dispositivo en tu red local)
                - No es necesario subir el c√≥digo fuente o proyecto a la nube
                - A menudo, subir el repositorio a una nube tiene ventajas pero se puede usar Git al completo sin esta opci√≥n o usando servidores propios
                ---

                # Crear repositorio

                ```bash
                mkdir repo # creas la carpeta
                cd repo    # entramos en la carpeta
                git init   # creamos un repositorio vac√≠o
                ```

                O al rev√©s:

                ```bash
                git init repo # creas un repositorio en una carpeta "repo"
                cd repo       # entras en esa carpeta
                ```

                Para abrir la carpeta con VS Code desde terminal:

                ```bash
                code repo # cambiar "repo" por ruta a la carpeta o nombre
                ```

                ---

                # Rama inicial

                Actualmente, la rama inicial de un repositorio es `main` pero se 
                puede cambiar cuando se crea, despu√©s, 
                o configurar la rama por defecto en nuestra m√°quina:

                ```bash
                git init repo --initial-branch=nombre-de-tu-rama-inicial
                ```

                En config:

                ```bash
                git config --global init.defaultBranch nombre-de-tu-rama-inicial
                ```

                ---

                # ¬øC√≥mo sabemos que una carpeta es repositorio?

                - Una comprobaci√≥n simple es entrar en la carpeta y buscar una subcarpeta `.git`
                - No se debe borrar la carpeta `.git` ya que puedes perder el historial del repositorio 
                - Como es una carpeta oculta, es posible que debas habilitar esta opci√≥n en tu sistema

                En sistemas Unix:

                ```bash
                ls -a
                ```

                En Windows:

                ```cmd
                  dir /ah 
                ```
                
                M√°s informaci√≥n: https://www.computerhope.com/issues/ch001039.htm

                ---

                # ¬øC√≥mo sabemos que una carpeta es repositorio? (parte 2)

                Otra opci√≥n es ejecutar alg√∫n comando de git en el posible 
                repositorio:

                ```bash
                git log
                git status
                # etc
                ```

                Cualquier comando de git nos puede dar una pista.
                
                ---

                # Directorio de Trabajo
                <!-- p√°gina 34 -->
                Debemos seleccionar una carpeta para organizar nuestros proyectos.

                La carpeta que tiene nuestro repositorio se denomina **carpeta o directorio de trabajo**.

                Normalmente, abrimos esta carpeta en VS Code.

                Para abrir la carpeta podemos ejecutar `code carpeta` 
                o desde VS Code `Archivo > Abrir carpeta`

                ---
                
                # Ejemplo Pr√°ctico
                ## (para iniciar proyecto nuevo)

                En un terminal:

                ```bash
                mkdir repo
                cd repo
                git init
                code .
                ```

                - Crear carpeta "repo"
                - Entrar en carpeta
                - Crear repositorio (vac√≠o)
                - Abrir carpeta "repo" en VS Code

                ---
                # Carpeta "repo" abierta en VS Code

                ![carpeta repo en VS Code](./repo-en-vs-code.png)

                ---

                # Ejemplo Pr√°ctico (parte 2)

                - Creamos un `README.md`
                - Creamos un `index.html`
                
                (por el momento, el contenido de los archivos da igual)

                - A√±adimos ambos a `staging`
                - Confirmamos commits

                ---
                # Cambios de Ejemplo

                ![Cambios de ejemplo](./cambios-index-readme.png)
                ---
                # Ejemplo mensaje commit sin confirmar

                ![Ejemplo de mensaje para commit](./ejemplo-mensaje-commit.png)
                ---
                # Primer commit confirmado

                ![Primer commit en repo](./primer-commit.png)
                ---
                # Ejemplo con dos commits

                ![Ejemplo dos commits](./ejemplo-dos-commits.png)
                ---

                # Hacer commit

                Desde VS Code:
                
                - Usando el control de cambio (icono de las ramas), a√±adimos a `staging` con el `+` y quitamos de staging con el `-`
                - Colocamos mensaje y confirmar
                
                Desde terminal:

                ```bash
                git add index.html # ruta al archivo
                git add . # a√±ade todo a staging
                git commit -m "T√≠tulo del commit" -m "Mensaje"
                ---
                # Commit desde VS Code

                ![Commit desde VS Code](./commit-desde-vs-code.png)

                ---

                # Commit desde Terminal

                ![Commit desde Terminal](./commit-desde-terminal.png)

                ---

                # git restore
                
                Deshacer un cambio o revertir archivo(s) a un estado anterior

                Si hacemos un cambio no deseado en `index.html`:

                ```bash
                # restauramos index a la versi√≥n anterior
                git restore index.html

                # restaurar todo el directorio de trabajo
                git restore .
                
                # restaurar todos los archivos terminados en *.html
                git restore '*.html'
                ```

                **Nota:** git restore existe desde la versi√≥n `2.23`. 
                En el momento de la edici√≥n del documento, se usa la versi√≥n 
                `2.39.2`.

                ---

                # git clean

                - Sirve para borrar archivos o directorios que no estamos siguiendo en un commit anterior
                - Permite hacer `dry-run`, es decir, ver el resultado del comando sin ejecutarlo

                ```bash

                git clean -f # fuerza el borrado sin confirmar üö®¬°¬°PELIGRO!!üö®

                git clean -d # borra tambi√©n carpetas üö®¬°¬°PELIGRO!!üö®

                git clean -i # modo interactivo (pregunta antes de borrar)

                git clean -n # ejecuta el dry run (no borra nada)
                ```

                ---

                # Ejemplos de uso de git clean

                ![git clean](./git-clean.png)


              </textarea>
            </section>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js"></script>
    <script>
      Reveal.initialize({
        plugins: [RevealMarkdown],
      });
    </script>
</body>
</html>
